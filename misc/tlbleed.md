# TLBleed

* 2018年6月ぐらいに一部で話題になったため, SpectreのVariantでは無いが紹介
* [paperはここから](https://www.vusec.net/projects/tlbleed/)
  * Spectre, Meltdownなど, cacheを利用したサイドチャネル攻撃に対して, H/W的にはcacheを分離するなどの措置が有効だと考えられているが, それでは不十分ということを指摘している
* CacheではなくTLBを使って, 秘密鍵を特定することが出来る

## メカニズム
* Spectre, Meltdownで騒ぐ前から, cacheを利用したサイドチャネル攻撃でメモリの何処にアクセスしたか読み取る攻撃は指摘されていた
  * アクセスしたメモリの位置が分かるだけでも, 条件次第では関数呼び出しの時系列がわかり, 暗号処理の中でそれを特定することで鍵が分かることもある
    * A -> B -> C と関数を実行するパターンと, A -> C と関数を実行するパターンで, 処理中のbitが0か1か分かる... といった感じ
  * Spectre, Meltdown は投機的実行を絡めて, メモリ上のデータを直接読み取れるのが強い
* 同等のことを, TLBleedはTLBを使って実現する
  * TLBについてもcache同様レイテンシを元にエントリの存在有無を確認することはできる
  * TLBからは4KBのpage単位でしかアクセスの有無を読み取れず, cache lineよりも粒度が粗く利用しにくい
  * Support Vector Machineを利用して, 実行されている関数を特定するらしい

